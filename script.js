var a=0,b=0,is_a=!0,is_b=!1,o="nil",answer=0,first_a=!0,first_b=!0,is_submission=!1,soft_sub=!1,display=jQuery("#total");function write(s){console.log(s)}function changeDisplayVal(s){display.text(display.text()+s)}function visOps(s){return"*"===s?"\xd7":"/"===s?"\xf7":s}function setDisplayVal(s){display.text(visOps(s))}function animateButton(s){var t=s.addClass("hovering");setTimeout(function(){t.removeClass("hovering")},100)}function set_a(s){is_a&&("."===s&&-1!==a.toString().indexOf(".")?(write("Duplicate Decimal"),s=""):"."===s&&first_a&&(s="0."),!0===first_a?"0"===s?s="":(setDisplayVal(s),first_a=!1):changeDisplayVal(s),write('Set "a" to '+(a=display.text())))}function set_b(s){is_a||("."===s&&-1!==b.toString().indexOf(".")?(write("Duplicate Decimal!"),s=""):"."===s&&first_b&&(s="0."),!0===first_b?"0"===s?s="":(setDisplayVal(s),first_b=!1):changeDisplayVal(s),write('Set "b" to '+(b=display.text())))}function loop_calc(s){write("Loop Calculator"),a=s,b=0,s=0,setDisplayVal(a)}function set_o(s){is_submission&&(loop_calc(display.text()),is_submission=!1),first_b||softsubmit_calc(),setDisplayVal(s),is_a&&(is_a=!1),is_b||(is_b=!0),write('Set "o" to '+(o=s))}function softsubmit_calc(){var preCalc;answer=parseFloat(eval(a+""+o+b).toPrecision(12)),display.text(answer),first_b=!0,newResult(a,o,b,answer),write(a+" "+o+" "+b+" = "+answer),a=answer,b=0,setDisplayVal(o),is_a=!1,is_b=!0,first_b=!0,soft_sub=!0,write("Soft Submission")}function submit_calc(){if(write("Submission"),!1===first_b){var preCalc=0;answer=parseFloat((preCalc="^"===o?Math.pow(a,b):eval(a+""+o+b)).toPrecision(12)),display.text(answer),is_submission=!0,first_b=!0,newResult(a,o,b,answer),write(a+" "+o+" "+b+" = "+answer)}else write("You can't do that yet")}function neg(){display.text(-1*display.text()),is_submission?a*=-1:is_a?setDisplayVal(a*=-1):setDisplayVal(b*=-1)}function reset_calc(){a=0,b=0,o="nil",answer=0,is_a=!0,is_b=!1,first_a=!0,first_b=!0,is_submission=!1,soft_sub=!1,display.text(0),setDisplayVal(0),write("Calculator Reset")}function backspace(){""!==display.text()&&"0"!==display.text()?(display.text(display.text().substring(0,display.text().length-1)),!0===is_a?a=parseFloat(a.toString().substring(0,a.toString().length-1)):b=parseFloat(b.toString().substring(0,b.toString().length-1))):write("Nothing Left to Backspace")}function memory(s){is_submission?loop_calc(s):is_a?loop_calc(s):set_b(s),answer=a}function newResult(s,t,i,e){var n=jQuery("#results_list"),c='<li class="result"><span class="equation">'+s+" "+visOps(t)+" "+i+' </span><span class="answer">'+e+'</span> <span class="use"><a class="calc_use" href="#">Use</a></span></li>';n.prepend(c).children("li").fadeIn(200),jQuery("#result_default")&&jQuery("#result_default").remove(),jQuery(".calc_use").off("click").on("click",function(){var s=jQuery(this).parent(".use").siblings(".answer").text();return jQuery(this).parents(".result").animate({opacity:"0.5"},200).animate({opacity:"1"},200),jQuery("#total").animate({opacity:"0.5"},200).animate({opacity:"1"},200),memory(s),!1})}function sqrt(s){write("Square Root");var t=Math.sqrt(s);answer=t,write("u221A"+s+" = "+t),loop_calc(t),newResult("","âˆš",s,t),display.text(answer),is_submission=!0,first_b=!0}function square(s){write("Square");var t=s*s;answer=t,write(s+" u005E 2 = "+t),loop_calc(t),newResult(s," &#94; 2","",t),display.text(answer),is_submission=!0,first_b=!0}function denom(s){write("Denominator");var t=1/s;answer=t,write("1 / "+s+" = "+t),loop_calc(t),newResult(1," / ",s,t),display.text(answer),is_submission=!0,first_b=!0}jQuery(".calc_int, #calc_decimal").each(function(){jQuery(this).click(function(){var s=jQuery(this).val();!1===is_submission?!0===is_a?set_a(s):set_b(s):(reset_calc(),set_a(s))})}),jQuery(".calc_op").each(function(){jQuery(this).click(function(){set_o(jQuery(this).val())})}),jQuery("#calc_eval").click(function(){submit_calc()}),jQuery("#calc_clear").click(function(){reset_calc()}),jQuery("#calc_neg").click(function(){neg()}),jQuery("#calc_back").click(function(){backspace()}),jQuery("#calc_sqrt").click(function(){return"0"!==display.text()&&(is_submission?sqrt(answer):is_a&&sqrt(a)),!1}),jQuery("#calc_square").click(function(){return"0"!==display.text()&&(is_submission?square(answer):is_a&&square(a)),!1}),jQuery("#calc_denom").click(function(){return"0"!==display.text()&&(is_submission?denom(answer):is_a&&denom(a)),!1}),jQuery("#result_clear").click(function(){return jQuery("#results_list").children("li").fadeOut(200,function(){jQuery(this).remove()}),jQuery("#results_list").prepend('<li id="result_default">Memory is Empty</li>'),!1}),jQuery(document).keypress(function(s){var t=s.which,i=String.fromCharCode(t);t>=46&&t<=58&&47!==t&&(is_submission?soft_sub?set_b(i):(reset_calc(),set_a(i)):is_a?set_a(i):set_b(i)),(t>=42&&t<=45&&44!==t||47===t)&&set_o(i),61===t&&submit_calc(),jQuery("button").each(function(){jQuery(this).val()===i&&animateButton(jQuery(this))})}),jQuery(document).keydown(function(s){var t=s.which;return 8===t?(backspace(),animateButton(jQuery("#calc_back")),!1):12===t?(reset_calc(),animateButton(jQuery("#calc_clear")),!1):13===t?(submit_calc(),animateButton(jQuery("#calc_eval")),!1):void 0});
